if (PlotType=="dailyS2") {
plot <- ggplot(data=DataSet,
aes(x=Date, y=Sub1, group=1)) +
geom_line(color="blue")
}
if (PlotType=="dailyS3") {
plot <- ggplot(data=DataSet,
aes(x=Date, y=Sub1, group=1)) +
geom_line(color="green")
}
if (PlotType=="monthlyS1") {
DataSet$yearmonth <- as.character(DataSet$yearmonth)
plot <- ggplot(data=DataSet,
aes(x=yearmonth, y=Sub1, group=1)) +
geom_line(color="green")
}
if (PlotType=="monthlyS2") {
DataSet$yearmonth <- as.character(DataSet$yearmonth)
plot <- ggplot(data=DataSet,
aes(x=yearmonth, y=Sub2, group=1)) +
geom_line(color="green")
}
if (PlotType=="monthlyS3") {
DataSet$yearmonth <- as.character(DataSet$yearmonth)
plot <- ggplot(data=DataSet,
aes(x=yearmonth, y=Sub3, group=1)) +
geom_line(color="green")
}
if (PlotType=="monthlyTot") {
DataSet$yearmonth <- as.character(DataSet$yearmonth)
plot <- ggplot(data=DataSet,
aes(x=yearmonth, group=1)) +
geom_line(aes(y=Active_whm/1000,color="Total",size=0.25)) +
geom_line(aes(y=Other_whm/1000,color="Other")) +
geom_line(aes(y=(Active_whm-Other_whm)/1000,color="Sub-Metered",size=0.25)) +
scale_color_discrete(name = "Meter",
labels = c("Total"="Total", "Other"="Other", "Sub-Metered" ="Sub-Metered")) +
labs( x="time", y = "Energy consumption (in kwh)") +
theme(panel.background = element_blank(),
axis.text.x = element_blank())
}
if (PlotType=="monthlyTotDaily") {
DataSet$yearmonth <- as.character(DataSet$yearmonth)
plot <- ggplot(data=DataSet,
aes(x=yearmonth, group=1)) +
geom_line(aes(y=Active_whm),color="green") +
geom_line(aes(y=Active_Daily*30),color="blue")
}
if (PlotType=="weekdayS1") {
plot <- ggplot(data=DataSet,
aes(x=WD,y = Sub1,
fill=factor(ifelse(WD=="zo" | WD=="za","Weekend","Weekday")))) +
geom_bar(stat = "identity") +
scale_fill_manual(name = "part of week", values=c("grey50", "red"))
}
if (PlotType=="minuteS2") {
plot <- ggplot(data=DataSet %>% filter(Date>="2009-06-08" & Date <= "2009-06-08") ,
aes(x=DateTime, y=Sub2)) +
geom_line(color="red")
}
if (PlotType=="minuteS3") {
plot <- ggplot(data=DataSet %>% filter(Date>="2009-09-01" & Date <= "2009-09-07") ,
aes(x=DateTime, y=Sub3)) +
geom_line(color="red") +
theme(panel.background = element_blank())
}
if (PlotType=="monthlyS3_2009") {
DataSet$yearmonth <- as.character(DataSet$yearmonth)
plot <- ggplot(data=DataSet %>% filter(year==2009),
aes(x=yearmonth, y=Sub3, group=1)) +
geom_line(color="green")
}
return(plot)
}
CreatePlots(TotalMinuteData, "minuteS3")
CreatePlots <- function(DataSet, PlotType) {
if (PlotType=="dailyS1") {
plot <- ggplot(data=DataSet,
aes(x=Date, y=Sub1, group=1)) +
geom_line(color="red")
}
if (PlotType=="dailyS2") {
plot <- ggplot(data=DataSet,
aes(x=Date, y=Sub1, group=1)) +
geom_line(color="blue")
}
if (PlotType=="dailyS3") {
plot <- ggplot(data=DataSet,
aes(x=Date, y=Sub1, group=1)) +
geom_line(color="green")
}
if (PlotType=="monthlyS1") {
DataSet$yearmonth <- as.character(DataSet$yearmonth)
plot <- ggplot(data=DataSet,
aes(x=yearmonth, y=Sub1, group=1)) +
geom_line(color="green")
}
if (PlotType=="monthlyS2") {
DataSet$yearmonth <- as.character(DataSet$yearmonth)
plot <- ggplot(data=DataSet,
aes(x=yearmonth, y=Sub2, group=1)) +
geom_line(color="green")
}
if (PlotType=="monthlyS3") {
DataSet$yearmonth <- as.character(DataSet$yearmonth)
plot <- ggplot(data=DataSet,
aes(x=yearmonth, y=Sub3, group=1)) +
geom_line(color="green")
}
if (PlotType=="monthlyTot") {
DataSet$yearmonth <- as.character(DataSet$yearmonth)
plot <- ggplot(data=DataSet,
aes(x=yearmonth, group=1)) +
geom_line(aes(y=Active_whm/1000,color="Total",size=0.25)) +
geom_line(aes(y=Other_whm/1000,color="Other")) +
geom_line(aes(y=(Active_whm-Other_whm)/1000,color="Sub-Metered",size=0.25)) +
scale_color_discrete(name = "Meter",
labels = c("Total"="Total", "Other"="Other", "Sub-Metered" ="Sub-Metered")) +
labs( x="time", y = "Energy consumption (in kwh)") +
theme(panel.background = element_blank(),
axis.text.x = element_blank())
}
if (PlotType=="monthlyTotDaily") {
DataSet$yearmonth <- as.character(DataSet$yearmonth)
plot <- ggplot(data=DataSet,
aes(x=yearmonth, group=1)) +
geom_line(aes(y=Active_whm),color="green") +
geom_line(aes(y=Active_Daily*30),color="blue")
}
if (PlotType=="weekdayS1") {
plot <- ggplot(data=DataSet,
aes(x=WD,y = Sub1,
fill=factor(ifelse(WD=="zo" | WD=="za","Weekend","Weekday")))) +
geom_bar(stat = "identity") +
scale_fill_manual(name = "part of week", values=c("grey50", "red"))
}
if (PlotType=="minuteS2") {
plot <- ggplot(data=DataSet %>% filter(Date>="2009-06-08" & Date <= "2009-06-08") ,
aes(x=DateTime, y=Sub2)) +
geom_line(color="red")
}
if (PlotType=="minuteS3") {
plot <- ggplot(data=DataSet %>% filter(Date>="2007-09-01" & Date <= "2007-09-07") ,
aes(x=DateTime, y=Sub3)) +
geom_line(color="red") +
theme(panel.background = element_blank())
}
if (PlotType=="monthlyS3_2009") {
DataSet$yearmonth <- as.character(DataSet$yearmonth)
plot <- ggplot(data=DataSet %>% filter(year==2009),
aes(x=yearmonth, y=Sub3, group=1)) +
geom_line(color="green")
}
return(plot)
}
CreatePlots(TotalMinuteData, "minuteS3")
autoplot(decompose(monthlyTS))
runApp('Shinyapp03.R')
ggplot(TotalMinuteData, aes(x=Sub3)) +
geom_histogram(binwidth=1, colour="black", fill="white")
runApp('Shinyapp03.R')
TotalMinuteData %>% filter(Sub3=4)
TotalMinuteData %>% filter(Sub3==4)
TotalMinuteData %>% filter(Sub3==5)
tail(TotalMinuteData %>% filter(Sub3==5),20)
runApp('Shinyapp03.R')
library(shiny); runApp('Shinyapp03.R')
ggplot(TotalMinuteData, aes(x=Sub3)) +
geom_histogram(binwidth=1, colour="black", fill="white")
str(MinuteData)
ggplot(MinuteData, aes(x=Sub_metering_3)) +
geom_histogram(binwidth=1, colour="black", fill="white")
Sub3 <- Arrange(MinuteData %>% select (Date, Time, NumValue, Sub_metering_3), Date, Time)
library(RMySQL)
library(dplyr)
library(ggplot2)
library(lubridate)
library(fpp2)
library(tidyverse)
Sub3 <- Arrange(MinuteData %>% select (Date, Time, NumValue, Sub_metering_3), Date, Time)
Sub3 <- arrange(MinuteData %>% select (Date, Time, NumValue, Sub_metering_3), Date, Time)
str(Sub3)
RowLoop =1
while(RowLoop<10){
print(Minutedata[RowLoop,2])
RowLoop = RowLoop+1
}
RowLoop =1
while(RowLoop<10){
print(MinuteData[RowLoop,2])
RowLoop = RowLoop+1
}
SubMeter <- Sub3
RowLoop =1
while(RowLoop<nrow(SubMeter)){
print(SubMeter[RowLoop,2])
RowLoop = RowLoop+1
}
SubMeter <- Sub3
RowLoop =1
while(RowLoop<nrow(SubMeter)){
#print(SubMeter[RowLoop,2])
RowLoop = RowLoop+1
}
print(RowLoop)
head(as.numeric(Sub3$Time),10)
head(hour(Sub3$Time),10)
SubMeter$hours <- hour(SubMeter$Time)
head(SubMeter,10)
str(SubMeter)
SubMeter$Time <- hm(SubMeter$Time)
SubMeter$Time <- hms(SubMeter$Time)
SubMeter %>% filter(is.na(Time))
Sub3 <- arrange(MinuteData %>% select (Date, Time, NumValue, Sub_metering_3), Date, Time)
SubMeter <- Sub3
SubMeter %>% filter(is.na(Time))
head(SubMeter)
hm(SubMeter$Time)
head(SubMeter)
Substr(SubMeter$Time,1,2)
substr(SubMeter$Time,1,2)
as.numeric(substr(SubMeter$Time,1,2))
as.numeric(substr(SubMeter$Time,1,2))*60
as.numeric(substr(SubMeter$Time,1,2))*60+as.numeric(substr(SubMeter$Time,4,2))
head(SubMeter)
as.numeric(substr(SubMeter$Time,4,2))
as.numeric(substr(SubMeter$Time,4,5))
as.numeric(substr(SubMeter$Time,1,2))*60+as.numeric(substr(SubMeter$Time,4,5))
head(SubMeter)
SubMeter$MinuteNr <- as.numeric(substr(SubMeter$Time,1,2))*60+
as.numeric(substr(SubMeter$Time,4,5))
head(SubMeter)
str(SubMeter)
SubMeter %>% filter(MinuteNr<2 | MinuteNr>1438)
SubMeter$PreviousLevel <- -2
SubMeter$NextLevel     <- -2
RowLoop <- 1
PreviousLevel <- -1
head(SubMeter)
SubMeter$UniqueNr <- with(SubMeter,NumValue*10000+MinuteNr)
head(SubMeter)
SubMeter$UniqueNrPrev <- with(SubMeter,
ifelse(MinuteNr==0,
(NumValue-1)*10000 +1339,
UniqueNr-1))
head(SubMeter)
SubMeter %>% filter(MinuteNr<2 | MinuteNr>1438)
SubMeter %>% filter(MinuteNr<2 | MinuteNr>1438) %>% select (Date, Time, NumValue, MinuteNr, UniqueNr, UniqueNrPrev)
SubMeter$UniqueNrPrev <- with(SubMeter,
ifelse(MinuteNr==0,
(NumValue-1)*10000 +1439,
UniqueNr-1))
SubMeter %>% filter(MinuteNr<2 | MinuteNr>1438) %>% select (Date, Time, NumValue, MinuteNr, UniqueNr, UniqueNrPrev)
SubMeter$UniqueNrNext <- with(SubMeter,
ifelse(MinuteNr==1439,
(NumValue+1)*10000,
UniqueNr+1))
SubMeter %>% filter(MinuteNr<2 | MinuteNr>1438) %>% select (Date, Time, NumValue, MinuteNr, UniqueNr, UniqueNrPrev)
SubMeter %>% filter(MinuteNr<2 | MinuteNr>1438) %>% select (Date, Time, NumValue, MinuteNr, UniqueNr, UniqueNrPrev, UniqueNrNext)
SubMeter <- Sub3
SubMeter$MinuteNr <- as.numeric(substr(SubMeter$Time,1,2))*60+
as.numeric(substr(SubMeter$Time,4,5))
SubMeter$UniqueNr <- with(SubMeter,NumValue*10000+MinuteNr)
SubMeter$UniqueNrPrev <- with(SubMeter,
ifelse(MinuteNr==0,
(NumValue-1)*10000 +1439,
UniqueNr-1))
SubMeter$UniqueNrNext <- with(SubMeter,
ifelse(MinuteNr==1439,
(NumValue+1)*10000,
UniqueNr+1))
head(SubMeter)
SubMeter$PreviousLevel <- -2
SubMeter$NextLevel     <- -2
SubMeter %>%
left_join(SubMeter, by = c("UniqueNr", "UniqueNrPrev") %>%
select(Sub_metering_3)
SubMeter %>%
left_join(SubMeter, by = c("UniqueNr", "UniqueNrPrev")) %>%
select(Sub_metering_3)
SubMeter %>%
left_join(SubMeter, by = c("UniqueNr", "UniqueNrPrev")) %>%
select(Sub_metering_3)
SubMeter %>%
left_join(SubMeter, by = c("UniqueNr", "UniqueNrPrev"))
SubMeter %>%
left_join(SubMeter, by = c("UniqueNr", "UniqueNrPrev")) %>%
select(Sub_metering_3.y)
Sub3 <- arrange(MinuteData %>%
select (Date, Time, NumValue, Sub_metering_3) %>%
rename(Level =Sub_metering_3)
, Date, Time)
str(Sub3)
SubMeter <- Sub3
SubMeter$MinuteNr <- as.numeric(substr(SubMeter$Time,1,2))*60+
as.numeric(substr(SubMeter$Time,4,5))
SubMeter$UniqueNr <- with(SubMeter,NumValue*10000+MinuteNr)
SubMeter$UniqueNrPrev <- with(SubMeter,
ifelse(MinuteNr==0,
(NumValue-1)*10000 +1439,
UniqueNr-1))
SubMeter$UniqueNrNext <- with(SubMeter,
ifelse(MinuteNr==1439,
(NumValue+1)*10000,
UniqueNr+1))
head(SubMeter)
SubMeter$LevelPrev <- SubMeter %>%
left_join(SubMeter, by = c("UniqueNr", "UniqueNrPrev")) %>%
select(Sub_metering_3.y)
SubMeter$LevelPrev <- SubMeter %>%
left_join(SubMeter, by = c("UniqueNr", "UniqueNrPrev")) %>%
select(Level.y)
head(SubMeter)
head(SubMeter %>%   left_join(SubMeter, by = c("UniqueNr", "UniqueNrPrev")),10)
head(SubMeter %>%   left_join(SubMeter %>%
select(UniqueNrPrev,Level) %>%
rename(UniqueNr = UniqueNr, LevelPrev = Level)
, by = c("UniqueNr")),10)
head(SubMeter %>%   left_join(SubMeter %>%
select(UniqueNrPrev,Level) %>%
rename(UniqueNr = UniqueNrPrev, LevelPrev = Level)
, by = c("UniqueNr")),10)
head(SubMeter %>%   left_join(SubMeter %>%
select(UniqueNr,Level) %>%
rename(UniqueNrPrev = UniqueNr, LevelPrev = Level)
, by = c("UniqueNrPrev")),10)
SubMeter$LevelPrev <- SubMeter %>%   left_join(SubMeter %>%
select(UniqueNr,Level) %>%
rename(UniqueNrPrev = UniqueNr, LevelPrev = Level)
, by = c("UniqueNrPrev")) %>%
select(LevelPrev.y)
head(SubMeter)
SubMeter$LevelPrev <- SubMeter %>%   left_join(SubMeter %>%
select(UniqueNr,Level) %>%
rename(UniqueNrPrev = UniqueNr, LevelPrev = Level)
, by = c("UniqueNrPrev")) %>%
select(LevelPrev.y) %>%
rename(LevelPrev = LevelPrev.y )
head(SubMeter)
runApp('Shinyapp03.R')
SubMeter$LevelNext <- SubMeter %>%   left_join(SubMeter %>%
select(UniqueNr,Level) %>%
rename(UniqueNrNext = UniqueNr, LevelNext = Level)
, by = c("UniqueNrNext")) %>%
select(LevelNext.y) %>%
rename(LevelNext = LevelNext.y )
SubMeter$LevelNext <- SubMeter %>%   left_join(SubMeter %>%
select(UniqueNr,Level) %>%
rename(UniqueNrNext = UniqueNr, LevelNext = Level)
, by = c("UniqueNrNext")) %>%
select(LevelNext)
head(SubMeter)
SubMeter$DifPrev <- with(SubMeter, Level - LevelPrev)
SubMeter$DifNext <- with(SubMeter, LevelNext - Level)
head(SubMeter)
head(SubMeter)
SubMeter$DifPrev <- with(SubMeter, Level - LevelPrev)
SubMeter$DifNext <- with(SubMeter, LevelNext - Level)
head(SubMeter)
SubMeter$DifPrev <- 0
head(SubMeter)
SubMeter$DifPrev <- with(SubMeter, Level - LevelPrev)
SubMeter$DifNext <- with(SubMeter, LevelNext - Level)
str(SubMeter)
SubMeter <- Sub3
SubMeter$MinuteNr <- as.numeric(substr(SubMeter$Time,1,2))*60+
as.numeric(substr(SubMeter$Time,4,5))
SubMeter$UniqueNr <- with(SubMeter,NumValue*10000+MinuteNr)
SubMeter$UniqueNrPrev <- with(SubMeter,
ifelse(MinuteNr==0,
(NumValue-1)*10000 +1439,
UniqueNr-1))
SubMeter$UniqueNrNext <- with(SubMeter,
ifelse(MinuteNr==1439,
(NumValue+1)*10000,
UniqueNr+1))
SubMeter$LevelPrev <- SubMeter %>%   left_join(SubMeter %>%
select(UniqueNr,Level) %>%
rename(UniqueNrPrev = UniqueNr, LevelPrev = Level)
, by = c("UniqueNrPrev")) %>%
select(LevelPrev.y) %>%
rename(LevelPrev = LevelPrev.y )
SubMeter$LevelNext <- SubMeter %>%   left_join(SubMeter %>%
select(UniqueNr,Level) %>%
rename(UniqueNrNext = UniqueNr, LevelNext = Level)
, by = c("UniqueNrNext")) %>%
select(LevelNext)
SubMeter$DifPrev <- SubMeter$Level - SubMeter$LevelPrev
head(SubMeter)
Sub3 <- arrange(MinuteData %>%
select (Date, Time, NumValue, Sub_metering_3) %>%
rename(Level =Sub_metering_3)
, Date, Time)
SubMeter <- Sub3
SubMeter$MinuteNr <- as.numeric(substr(SubMeter$Time,1,2))*60+
as.numeric(substr(SubMeter$Time,4,5))
SubMeter$UniqueNr <- with(SubMeter,NumValue*10000+MinuteNr)
SubMeter$UniqueNrPrev <- with(SubMeter,
ifelse(MinuteNr==0,
(NumValue-1)*10000 +1439,
UniqueNr-1))
SubMeter$UniqueNrNext <- with(SubMeter,
ifelse(MinuteNr==1439,
(NumValue+1)*10000,
UniqueNr+1))
SubMeter <- SubMeter %>%   left_join(SubMeter %>%
select(UniqueNr,Level) %>%
rename(UniqueNrPrev = UniqueNr, LevelPrev = Level)
, by = c("UniqueNrPrev")) %>%
select(Date,Time, NumValue, Level, MinuteNr,  UniqueNr, UniqueNrPrev,
UniqueNrNext, LevelPrev)
head(SubMeter)
SubMeter <- SubMeter %>%   left_join(SubMeter %>%
select(UniqueNr,Level) %>%
rename(UniqueNrNext = UniqueNr, LevelNext = Level)
, by = c("UniqueNrNext")) %>%
select(Date,Time, NumValue, Level, MinuteNr,  UniqueNr, UniqueNrPrev,
UniqueNrNext, LevelPrev,LevelNext)
head(SubMeter)
SubMeter$DifPrev <- SubMeter$Level - SubMeter$LevelPrev
SubMeter$DifNext <- with(SubMeter, LevelNext - Level)
head(SubMeter)
SubMeter %>% group_by(Level, LevelPrev, LevelNext,DifPrev, DifNext ) %>%
summarise(count = n())
arrange(SubMeter %>% group_by(Level, LevelPrev, LevelNext,DifPrev, DifNext ) %>%
summarise(count = n()),-count)
head(arrange(SubMeter %>% group_by(Level, LevelPrev, LevelNext,DifPrev, DifNext ) %>%
summarise(count = n()),-count),30)
head(arrange(SubMeter %>% group_by(Level, LevelPrev, LevelNext,DifPrev, DifNext ) %>%
summarise(count = n()),-count),20)
head(arrange(SubMeter %>% group_by(Level, LevelPrev, LevelNext,DifPrev, DifNext ) %>%
summarise(count = n()),-count) %>%
filter(Level==0)
,20)
head(arrange(SubMeter %>% group_by(Level, LevelPrev, LevelNext,DifPrev, DifNext ) %>%
summarise(count = n()),-count) %>%
filter(Level==0)
,20)
head(arrange(SubMeter %>% group_by(Level, LevelPrev, LevelNext,DifPrev, DifNext ) %>%
summarise(count = n()) %>%
filter(Level==0)
,-count)
,20)
head(arrange(SubMeter %>% group_by(Level, LevelPrev, LevelNext,DifPrev, DifNext ) %>%
summarise(count = n()) %>%
filter(Level==0)
,-count)
,20)
ggplot(data=TotalMinuteData %>% filter(Date>="2007-09-01" & Date <= "2007-09-07") ,
aes(x=DateTime, y=Sub3)) +
geom_line(color="red")
gplot(data=TotalMinuteData %>% filter(Date>="2008-09-01" & Date <= "2008-09-07") ,
aes(x=DateTime, y=Sub3)) +
geom_line(color="red")
ggplot(data=TotalMinuteData %>% filter(Date>="2008-09-01" & Date <= "2008-09-07") ,
aes(x=DateTime, y=Sub3)) +
geom_line(color="red")
ggplot(data=TotalMinuteData %>% filter(Date>="2008-09-01" & Date <= "2008-09-07") ,
aes(x=DateTime, y=Sub3)) +
geom_line(color="red")
ggplot(data=TotalMinuteData %>% filter(Date>="2008-03-01" & Date <= "2008-03-07") ,
aes(x=DateTime, y=Sub3)) +
geom_line(color="red")
ggplot(data=TotalMinuteData %>% filter(Date>="2008-06-01" & Date <= "2008-06-07") ,
aes(x=DateTime, y=Sub3)) +
geom_line(color="red")
ggplot(data=TotalMinuteData %>% filter(Date>="2008-05-01" & Date <= "2008-05-07") ,
aes(x=DateTime, y=Sub3)) +
geom_line(color="red")
ggplot(data=TotalMinuteData %>% filter(Date>="2008-05-01" & Date <= "2008-05-03") ,
aes(x=DateTime, y=Sub3)) +
geom_line(color="red")
ggplot(data=TotalMinuteData %>% filter(Date>="2008-05-01" & Date <= "2008-05-02") ,
aes(x=DateTime, y=Sub3)) +
geom_line(color="red")
ggplot(data=TotalMinuteData %>% filter(DateTime>="2008-05-01 05:00:00" & Date <= "2008-05-02") ,
aes(x=DateTime, y=Sub3)) +
geom_line(color="red")
ggplot(data=TotalMinuteData %>%
filter(DateTime>="2008-05-01 05:00:00" & DateTime <= "2008-05-01 08:00:00") ,
aes(x=DateTime, y=Sub3)) +
geom_line(color="red")
ggplot(data=TotalMinuteData %>% filter(Date>="2008-03-01" & Date <= "2008-03-02") ,
aes(x=DateTime, y=Sub3)) +
geom_line(color="red")
ggplot(data=TotalMinuteData %>%
filter(DateTime>="2008-03-01 12:00:00" & DateTime <= "2008-03-01 13:00:00") ,
aes(x=DateTime, y=Sub3)) +
geom_line(color="red")
ggplot(data=TotalMinuteData %>% filter(Date>="2008-03-01" & Date <= "2008-03-02") ,
aes(x=DateTime, y=Sub3)) +
geom_line(color="red")
ggplot(data=TotalMinuteData %>%
filter(DateTime>="2008-03-01 12:00:00" & DateTime <= "2008-03-01 15:00:00") ,
aes(x=DateTime, y=Sub3)) +
geom_line(color="red")
ggplot(data=TotalMinuteData %>%
filter(DateTime>="2008-03-01 13:30:00" & DateTime <= "2008-03-01 15:00:00") ,
aes(x=DateTime, y=Sub3)) +
geom_line(color="red")
ggplot(data=TotalMinuteData %>%
filter(DateTime>="2008-03-01 13:50:00" & DateTime <= "2008-03-01 15:00:00") ,
aes(x=DateTime, y=Sub3)) +
geom_line(color="red")
ggplot(data=TotalMinuteData %>%
filter(DateTime>="2008-03-01 13:50:00" & DateTime <= "2008-03-01 14:00:00") ,
aes(x=DateTime, y=Sub3)) +
geom_line(color="red")
ggplot(data=TotalMinuteData %>%
filter(DateTime>="2008-03-01 13:56:00" & DateTime <= "2008-03-01 14:04:00") ,
aes(x=DateTime, y=Sub3)) +
geom_line(color="red")
